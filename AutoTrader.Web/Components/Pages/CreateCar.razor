@page "/editCar/{id:int}"
@page "/newCar/"
@using Microsoft.AspNetCore.Components.Authorization
@inherits CreateCarBase
@rendermode InteractiveServer


<h3>@(CarDetails.CarId != 0 ? "Edit Car" : "Add New Car")</h3>

<EditForm Model="@CarDetails" OnSubmit="HandleSubmit" FormName="CarForm">


    <InputFile OnChange="LoadFiles" multiple />

    <div class="form-group row">
        <label for="modelName" class="col-sm-2 col-form-label">Model Name</label>
        <div class="col-sm-10">
            <InputText id="modelName" class="form-control" placeholder="Model Name" @bind-Value="CarDetails.ModelName" />
        </div>
    </div>

    <div class="form-group row">
        <label for="vehicleType" class="col-sm-2 col-form-label">Vehicle Type</label>
        <div class="col-sm-10">
            <InputSelect id="vehicleType" @bind-Value="CarDetails.VehicleTypeId" class="form-control">
                @foreach (var vehicleType in VehicleTypes)
                {
                    <option value="@vehicleType.VehicleTypeId">@vehicleType.Name</option>
                }
            </InputSelect>
        </div>
    </div>

    <div class="form-group row">
        <label for="engine" class="col-sm-2 col-form-label">Engine</label>
        <div class="col-sm-10">
            <InputText id="engine" class="form-control" placeholder="Engine" @bind-Value="CarDetails.Engine" />
        </div>
    </div>

    <div class="form-group row">
        <label for="transmission" class="col-sm-2 col-form-label">Transmission</label>
        <div class="col-sm-10">
            <InputSelect id="transmission" @bind-Value="CarDetails.TransmissionId" class="form-control">
                @foreach (var transmission in Transmission)
                {
                    <option value="@transmission.TransmissionId">@transmission.Name</option>
                }
            </InputSelect>
        </div>
    </div>

    <div class="form-group row">
        <label for="peakTorque" class="col-sm-2 col-form-label">Peak Torque</label>
        <div class="col-sm-10">
            <InputText id="peakTorque" class="form-control" placeholder="Peak Torque" @bind-Value="CarDetails.PeakTorque" />
        </div>
    </div>

    <div class="form-group row">
        <label for="manufacturingYear" class="col-sm-2 col-form-label">Manufacturing Year</label>
        <div class="col-sm-10">
            <InputText id="manufacturingYear" class="form-control" placeholder="Manufacturing Year" @bind-Value="CarDetails.ManufacturingYear" />
        </div>
    </div>

    <div class="form-group row">
        <label for="exteriorColor" class="col-sm-2 col-form-label">Exterior Color</label>
        <div class="col-sm-10">
            <InputText id="exteriorColor" class="form-control" placeholder="Exterior Color" @bind-Value="CarDetails.ExteriorColor" />
        </div>
    </div>

    <div class="form-group row">
        <label for="ownership" class="col-sm-2 col-form-label">Ownership</label>
        <div class="col-sm-10">
            <InputText id="ownership" class="form-control" placeholder="Ownership" @bind-Value="@CarDetails.Ownership" />
        </div>
    </div>

    <div class="form-group row">
        <label for="doors" class="col-sm-2 col-form-label">Doors</label>
        <div class="col-sm-10">
            <InputText id="doors" class="form-control" placeholder="Doors" @bind-Value="@CarDetails.Doors" />
        </div>
    </div>

    <div class="form-group row">
        <label for="kmsDone" class="col-sm-2 col-form-label">Kms Done</label>
        <div class="col-sm-10">
            <InputText id="kmsDone" class="form-control" placeholder="Kms Done" @bind-Value="@CarDetails.KmsDone" />
        </div>
    </div>

    <div class="form-group row">
        <label for="price" class="col-sm-2 col-form-label">Price</label>
        <div class="col-sm-10">
            <InputText id="price" class="form-control" placeholder="Price" @bind-Value="@CarDetails.Price" />
        </div>
    </div>

    <div class="form-group row">
        <label for="paidFeature" class="col-sm-2 col-form-label">Paid Feature</label>
        <div class="col-sm-10">
            <InputText id="paidFeature" class="form-control" placeholder="Paid Feature" @bind-Value="@CarDetails.PaidFeature" />
        </div>
    </div>

    <button class="btn btn-primary" type="submit">Save</button>
    @if (CarDetails.CarId != 0)
    {
        <button class="btn btn-danger" type="button" @onclick="DeleteCar">Delete</button>
    }
</EditForm>
 